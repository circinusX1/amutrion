// SCRIPT  TESTED ON R-PI
::using(eSYSIN|eSRV);

json := SRV(8000,"rest");
mouse := SYSIN(eMOUSE,"/dev/input/event4","mice");

ctx().set_priority(-20);
ctx().set_priority(20);

function main(x)
{

    mouse.set_monitor(true);
    mouse.open(0);
    return run(foo,1000);
}

function foo(c,d)
{
    if(d)
    {
        var xy = d.get_mouse();
        println("x=" + xy[0] + " y=" + xy[1]);
    }
    return true;
}
